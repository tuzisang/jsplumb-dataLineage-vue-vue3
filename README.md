# 数据血缘关系可视化工具

这是一个基于 Vue.js 和 Python Flask 开发的数据血缘关系可视化工具。

## 项目介绍

本项目旨在帮助用户直观地展示和分析数据之间的血缘关系。通过可视化的方式，用户可以清晰地了解数据流转过程和依赖关系。

### 技术栈

#### 前端
- Vue 3
- JSPlumb：用于绘制流程图和连接线
- TypeScript
- Vite 4

#### 后端
- Python Flask
- SQLLineage：用于SQL解析和血缘关系分析
- NetworkX：用于图形数据结构处理

### 主要功能
- 数据表血缘关系可视化，包含：列级和表级
- 支持拖拽式节点布局
- 自动解析SQL语句生成血缘关系
- 支持多种数据库类型 
- 可按列名和表名搜索，并镜头自动定位
- 支持列级和表级的上下游链路高亮
- 仅显示高亮链路，支持镜头快速定位字段
- 支持按表类型（Origin、Middle、RS）进行过滤显示
- 支持按表类型分组显示，并提供组展开/折叠功能

### 启动步骤

克隆仓库：
```bash
git clone <仓库地址>
cd jsplumb-dataLineage-vue-vue3
```


## 本地开发环境搭建

如果您想在本地进行开发，需要以下环境：

### 前端环境
- Node.js 22.11.0
- npm

前端启动步骤：
```bash
# 安装依赖
npm install

# 启动开发服务器
npm run dev
```

### 后端环境
- Python 3.12.9
- pip

后端启动步骤：
```bash


# 安装依赖
pip install -r requirements.txt

# 进入后端目录
cd api

# 启动服务器
python server.py
```

## 项目预览

![数据血缘关系示例](src/assets/sample.png)

## 功能详细说明

### 表类型过滤与分组功能

#### 表类型过滤
- 支持按表类型（Origin、Middle、RS等）进行表的显示过滤
- 提供全选和清空的快捷操作
- 过滤条件实时生效，立即更新视图
- 过滤功能特点：
  - 支持多选组合过滤
  - 保持血缘关系的完整性
  - 与搜索功能无缝配合
  - 通过颜色标识直观区分不同类型

#### 表类型分组显示
- 支持将相同类型的表进行分组展示
- 分组功能特性：
  - 每个分组显示类型名称和表的数量统计
  - 分组标题带有类型对应的颜色标识
  - 支持分组的展开/折叠控制（▼/▶）
  - 折叠状态下隐藏组内表项
- 分组显示与其他功能集成：
  - 保持表之间的连线关系显示
  - 支持在分组视图下进行节点搜索
  - 兼容表的引用次数统计显示

#### 界面交互优化
- 节点列表面板功能：
  - 支持表/字段视图切换
  - 实时搜索过滤
  - 显示表的引用次数
  - 支持定位到指定节点
- 分组显示优化：
  - 分组标题显示条目数量
  - 折叠按钮状态清晰可见
  - 保持节点的类型颜色标识

#### 使用技巧
- 过滤操作：
  - 使用类型筛选快速定位目标表
  - 结合搜索功能精确查找
  - 通过分组折叠减少视觉干扰
- 查看建议：
  - 使用分组视图了解数据分布
  - 关注引用次数了解表的重要性
  - 配合搜索功能快速定位目标

#### 注意事项
- 过滤显示：
  - 过滤后如看不到某些连线，检查相关表是否被过滤
  - 可临时取消过滤查看完整关系
- 性能相关：
  - 数据量大时建议使用过滤缩小范围
  - 适时折叠不相关的分组
  - 合理使用搜索缩小显示范围

## 开发说明

- 本项目使用 Vue 3 + TypeScript 开发
- 使用 JSPlumb 实现节点之间的连接和交互
- 后端基于 SQLLineage 进行二次开发，实现 SQL 解析和血缘分析
- 支持自定义节点样式和连接线样式
- 提供完整的 API 接口文档

## 浏览器访问

开发环境下访问：http://localhost:8620
